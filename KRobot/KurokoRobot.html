<!DOCTYPE html>

<html>

<head>
<meta charset="utf-8">
<title>黑子Robot聊天模拟器</title>
<link href="css/style.css" type="text/css" rel="stylesheet"/>
<style type="text/css">
#container{
width: 500px;
height: 700px;
border:1px solid #7b6b6b;
margin: 0 auto;
position: relative;
top: 50%;
}

#content{
width: 500px;
height: 600px;
border-bottom: 1px solid #ccc;
overflow-y: auto;

}

#content ul{
margin: 0;
padding: 0;

}

#Img{
width: 60px;
height: 60px;
position: absolute;
left: 20px;
top: 620px;
border-radius: 30px;

}

#txt{
margin: 0;
position: absolute;
left: 100px;
top: 630px;
border-radius: 2px;
border:1px solid #ccc;
width: 266px;
height: 36px;

}

#btn{
margin-right: 20px;
position: absolute;
margin: 0;
left: 394px;
top: 628px;
height: 36px;

}

#edit{
background: #ece7e766;
width: 500px;
height: 100px;

}

.showTxt{
width: auto;
height: auto;
max-width: 460px;
background: #008000;
border:0;
font-size: 30px;
color: black;
padding: 10px;
border-radius: 2px; 
word-break: break-all;
list-style: none;
margin-top: 10px;
display: list-item;

}

.left{
text-align: left;
margin-left: 100px;
float: left;
background:#CCCCCC;

}

.right{
text-align: right;
margin-right: 100px;
float: right;

}

.showImg{
width: 52px;
height: 52px;
border-radius: 26px;

 

}

.leftImg{
left: 20px;
position: absolute;

}

.rightImg{
right: 20px;
position: absolute;

}

#scroll{
position: relative;

}

</style>
</head>
<body><center>

<div id="container">
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<div id="content">
<div id="scroll">
<ul id="save"></ul>
</div>
</div>

<div id="edit">
<img src="img/2.jpg" onclick="change()" id="Img">
<input type="text" name="" id="txt">
<input type="button" class="but-save-left" onclick="sent()" value="发送" id="btn">
</div>
</div>
</center>
<h2>黑子聊天机器人1.0使用说明文档：</h2>
<hr>
<p>1.输入框内输入内容后，点击发送即可和黑子机器人聊天.</p>
<p>2.点击头像可切换角色和黑子机器人聊天.</p>
<p>3.假如只使用功能1的话真的很无聊.</p>
<p>4.在聊天框输入<span style="float: unset;background: red;">COW</span>点击发送即可召唤天津风助阵</p>
<p><a href="https://mobile.twitter.com/MisakaImoto32">@MisakaImoto32</a></p>
<script type="text/javascript">

 //获取元素

var oCont=document.getElementById('content');
var oImg=document.getElementById('Img');
var oTxt=document.getElementById('txt');
var oBtn=document.getElementById('btn');
var oSTxt=document.getElementsByClassName('showTxt');
var oSave=document.getElementById('save');
var num=1;
var strCOW="我想要法姐姐如石楠花般洁白如钻石般闪耀的小！橡！皮！";
var rec1=new Array("透透","快让我透透","坂坂让我透透","让我透透！");
var rec2=new Array("康康小橡皮","法姐姐康康小橡皮","让我康康小橡皮","透透小橡皮");

 //切换头像
function change(){
num++;
if(num%2==0)
oImg.src='img/1.jpg';
else
oImg.src='img/2.jpg';
console.log(num);

}
 //发送事件
 function sent(){
if(!oTxt.value)return;
if(oTxt.value.toUpperCase()=="COW"){COW();oTxt.value='';return;}
console.log(oTxt.value);
addCon();

}
function COW(){
	addLeftLis(strCOW,"img/COW.jpg");
	if(num%2==0)addLeftLis("?","img/2.jpg");else addRightLis("?","img/2.jpg");
	if(num%2==0)addRightLis("?","img/1.jpg");else addLeftLis("?","img/1.jpg");
	addLeftLis("草","img/kalie.jpg");
	addLeftLis("好恶心","img/zhushu.jpg");
	addLeftLis("性骚扰了属于是","img/yun.jpg");
	callback();
	addLeftLis("我看不懂，但我大受震撼","img/gugugu.jpg");
	addLeftLis("我是来看热闹的","img/luren.jpg");
}
function addCon(){ 
//定义需要添加的元素
var newLi=document.createElement("li");
var newImg=document.createElement('img');
//判断聊天的对象是哪一方，文字框出现在左边还是右边
//添加对话框
newLi.innerHTML=oTxt.value;
newLi.className='showTxt right';
oSave.appendChild(newLi); 
oTxt.value='';
 //添加头像
newImg.src=oImg.src;
newImg.className='showImg rightImg';
newLi.appendChild(newImg); 

 //清除浮动
var div = document.createElement('div');
 div.style = 'clear:both';
 oSave.appendChild(div);
setTimeout(callback(),3000);

}

function callback(){//回复函数
	var newLi=document.createElement("li");
	var newImg=document.createElement('img');
	var i=Math.floor(Math.random()*4);
	if(num%2==0)
	newLi.innerHTML=rec1[i];
	else
	newLi.innerHTML=rec2[i];
	newLi.className='showTxt left';
	oSave.appendChild(newLi); 
	oTxt.value='';
	newImg.src="img/kuroko.jpg";
	newImg.className='showImg leftImg';
	newLi.appendChild(newImg);
	var div = document.createElement('div');
	 div.style = 'clear:both';
	 oSave.appendChild(div);
}

function addRightLis(text1,imgUrl1){//显示右气泡
	var newLi=document.createElement("li");
	var newImg=document.createElement('img');
	newLi.innerHTML=text1;
	newLi.className='showTxt right';
	oSave.appendChild(newLi);
	newImg.src=imgUrl1;
	newImg.className='showImg rightImg';
	newLi.appendChild(newImg);
	var div = document.createElement('div');
	 div.style = 'clear:both';
	 oSave.appendChild(div);
}

function addLeftLis(text1,imgUrl1){//显示左气泡
	var newLi=document.createElement("li");
	var newImg=document.createElement('img');
	newLi.innerHTML=text1;
	newLi.className='showTxt left';
	oSave.appendChild(newLi);
	newImg.src=imgUrl1;
	newImg.className='showImg leftImg';
	newLi.appendChild(newImg);
	var div = document.createElement('div');
	 div.style = 'clear:both';
	 oSave.appendChild(div);
}
</script>
</body>
</html>